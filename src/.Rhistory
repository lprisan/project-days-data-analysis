processObservationData(read.csv(file="Observer sheet - Linnaruum (22.11.2017) (Responses) - Form responses 1"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processObservationData(read.csv(file="Observer sheet - Linnaruum (22.11.2017) (Responses) - Form responses 1"))
processObservationData(read.csv(file="Observer sheet - Linnaruum (22.11.2017) (Responses) - Form responses 1"))
source('~/Documents/GitHub/project-days-data-analysis/src/Observer sheet - Linnaruum (22.11.2017) (Responses) - Form responses 1.csv')
processObservationData(read.csv(file="/Documents/GitHub/project-days-data-analysis/src/Observer sheet - Linnaruum (22.11.2017) (Responses) - Form responses 1"))
processObservationData(read.csv(file='/Documents/GitHub/project-days-data-analysis/src/Observer sheet - Linnaruum (22.11.2017) (Responses) - Form responses 1'))
processObservationData(read.csv(file="/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
View(processObservationData)
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
> observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"),activitycol = F, observercol = F)
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"),activitycol = F, observercol = F)
observed2 <- observed
observed2[observed2$student.id==observed[1,"student.id"],]
head(observed)
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"),activitycol = F, observercol = F)
head(observed)
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"),activitycol = T, observercol = F)
head(observed)
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"),activitycol = F, observercol = F, namecols = c("timestamp","group","StudentA","StudentB","StudentC","StudentD","comment"))
head(observed)
foot(observed)
tail(observed)
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"),activitycol = F, observercol = F, namecols = c("timestamp","group","StudentA","StudentB","StudentC","StudentD"))
tail(observed)
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
tail(observed)
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
> observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
tail(observed)
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
observed <- processObservationData(read.csv(file="~/Documents/GitHub/project-days-data-analysis/src/Observersheet.csv"))
tail(observed)
observed2 <- observed
View(observed)
observed2[observed2$student.id==observed[1,"student.id"],]
names(data)[col] <- paste(names(data)[col],".A",sep="")
col <- col
url_obs <- "https://docs.google.com/spreadsheets/d/1hkkeSRYKKtlpxYAA4jEUddhkv-X5oj6gXzGPKobA5Wc/edit"
url_obs <- "https://docs.google.com/spreadsheets/d/1hkkeSRYKKtlpxYAA4jEUddhkv-X5oj6gXzGPKobA5Wc/edit"
data <- as.data.frame(gsheet2tbl(url_obs))
names(data) <- c("timestamp","group","activity",
"StudentA","StudentB","StudentC",
"StudentD","StudentE","comment","observer")
df <- processObservationData(data)
df$timeofday <- getTimeofday(df)
#Catch: always put the bigger data on data2!
matchObs <- function(data1, data2, col=3){
data <- data1
col <- col
names(data)[col] <- paste(names(data)[col],".A",sep="")
nameb <- paste(names(data2)[col],".B",sep="")
data[,nameb] <- NA
data[,"timeofday.b"] <- NA
data[,"difftime"] <- NA
for(i in 1:nrow(data)){
d2 <- data2[data2$student.id==data[i,"student.id"],]
diffs <- abs(d2[,1]-data[i,1])
idx <- which.min(diffs)
data[i,nameb] <- data2[row.names(d2[idx,]),col]
data[i,"timeofday.b"] <- as.POSIXct(data2[row.names(d2[idx,]),"timeofday"])
data[i,"difftime"] <- min(diffs)
}
data
}
# IRR calculations
results <- data.frame()
for(i in 6:11){ #For each of the variables disengaged, looking, etc
print(names(df)[i])
results[nrow(results)+1,"var"] <- names(df)[i]
ob1a <- df %>% filter(observer=="1-A") %>% select(timeofday,student.id,i)
ob1b <- df %>% filter(observer=="1-B") %>% select(timeofday,student.id,i)
gr1 <- matchObs(ob1b,ob1a)
results[nrow(results),"group"] <- "Group1"
# Cohen's Kappa
k1 <- kappa2(gr1[,c(3,4)], "unweighted")
print(kappa2(gr1[,c(3,4)], "unweighted"))
results[nrow(results),"kappa"] <- k1$value
results[nrow(results),"kappa.p"] <- k1$p.value
# Krippendorf's alpha
a1 <- kripp.alpha(t(as.matrix(gr1[,c(3,4)])), method="nominal")
print(kripp.alpha(t(as.matrix(gr1[,c(3,4)])), method="nominal"))
results[nrow(results),"alpha"] <- a1$value
results[nrow(results)+1,"var"] <- names(df)[i]
ob2a <- df %>% filter(observer=="2-A") %>% select(timeofday,student.id,i)
ob2b <- df %>% filter(observer=="2-B") %>% select(timeofday,student.id,i)
gr2 <- matchObs(ob2a,ob2b)
results[nrow(results),"group"] <- "Group2"
# Cohen's Kappa
k2 <- kappa2(gr2[,c(3,4)], "unweighted")
print(kappa2(gr2[,c(3,4)], "unweighted"))
results[nrow(results),"kappa"] <- k2$value
results[nrow(results),"kappa.p"] <- k2$p.value
# Krippendorf's alpha
a2 <- kripp.alpha(t(as.matrix(gr2[,c(3,4)])), method="nominal")
print(kripp.alpha(t(as.matrix(gr2[,c(3,4)])), method="nominal"))
results[nrow(results),"alpha"] <- a2$value
#irrdata <- rbind(gr1,gr2)
}
# All results
ggplot(results, aes(x="ALL", y=kappa))+geom_boxplot()+theme_minimal()
ggplot(results, aes(x="ALL", y=alpha))+geom_boxplot()+theme_minimal()
# By kind of observation
ggplot(results, aes(x=var, y=kappa))+geom_boxplot()+theme_minimal()
ggplot(results, aes(x=var, y=alpha))+geom_boxplot()+theme_minimal()
# By group (set of observers)
ggplot(results, aes(x=group, y=kappa))+geom_boxplot()+theme_minimal()
ggplot(results, aes(x=group, y=alpha))+geom_boxplot()+theme_minimal()
library(irr)
library(ggplot2)
library(FactoMineR)
library(factoextra)
library(gsheet)
Rscipt reliability.R
import(reliability)
library(reliability)
url_obs <- "https://docs.google.com/spreadsheets/d/1hkkeSRYKKtlpxYAA4jEUddhkv-X5oj6gXzGPKobA5Wc/edit"
View(observed)
View(observed)
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
all_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
debugSource('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processObservationData()
processAllObservationData()
View(processObservationData)
View(processObservationData)
debugSource('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
debugSource('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
debugSource('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
debugSource('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
debugSource('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
new_data = processAllObservationData()
View(new_data)
View(new_data)
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
as.Date("06/12/2017 09:59:41","%d/%m/%y")
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
debugSource('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data = processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <-processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
new_data <- processAllObservationData()
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
View(new_data)
View(new_data)
source('~/Documents/GitHub/project-days-data-analysis/src/processObservationData.R')
new_data <- processAllObservationData()
